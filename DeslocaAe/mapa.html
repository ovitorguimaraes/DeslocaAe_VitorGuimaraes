<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veja se sua região é atendida</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" ... />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" ...></script>
</head>


<body>
    <header>

        <nav>
            <a class="logo" href="/" style="color: #fff;">Desloca Aê</a>
            <div class="container-mobile-menu">
            <div class="mobile-menu">
              <div class="line1"></div>
              <div class="line2"></div>
              <div class="line3"></div>
            </div>
            <ul class="nav-list">
              <li><a href="feedbacks.html">Início</a></li>
              <li><a href="perfil.html">Meu Perfil</a></li>
              <li><a href="mapa.html">Mapa de Feedbacks</a></li>
              <li><a href="index.html">Sair / Login</a></li>
            </ul>
          </nav>

    </header>

    <style>
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
  }

  #mapa {
    height: 500px !important;
  }
</style>

    <main>
        <h2 style="text-align: center; margin: 20px 0;">Mapa de Avaliações por Bairro - Betim/MG</h2>
        <div id="mapa" style="height: 500px; width: 90%; margin: auto; border-radius: 10px; overflow: hidden;"></div>
    </main>





    <footer class="footer">
        <div class="footer-container">
            <div class="iconesrodape">
                <a href="https://www.instagram.com/" target="_blank">
                    <i class="fab fa-instagram fa-2x"></i>
                </a>
                <a href="https://www.linkedin.com/in/seu-perfil" target="_blank">
                    <i class="fab fa-linkedin fa-2x"></i>
                </a>
                <a href="tel:+5531999999999">
                    <i class="fas fa-phone fa-2x"></i>
                </a>
                <a href="mailto:contato@deslocaae.com">
                    <i class="fas fa-envelope fa-2x"></i>
                </a>
            </div>
        </div>
        <div class="direitos">
            <p>&copy; 2025 Desloca Aê. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script src="navbar.js"></script>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha512-vI/RtNekNqQJ9KXvGtrYF1IGaPtU0rUvQx+7DR2E7yBMR0xUs9i/iyx1snQfURz4qKm1aS2B4EcmqC7VrdixHg==" crossorigin=""></script>

<script>
  window.addEventListener('load', () => {
    const mapa = L.map('mapa').setView([-19.9676, -44.1986], 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors'
    }).addTo(mapa);

    
    const coordenadasBairros = {"AFONSO GONCALVES DA SILVA": [-19.9750, -44.2000],
  "ALTA VILLA": [-19.9640, -44.2000],
  "ALVORADA": [-19.9640, -44.2000],
  "AMARANTE": [-19.9640, -44.2000],
  "AMAZONAS": [-19.9640, -44.2000],
  "AMORAS": [-19.9640, -44.2000],
  "ANGOLA": [-19.9640, -44.2000],
  "ARQUIPELAGO VERDE": [-19.9640, -44.2000],
  "BELA VISTA": [-19.9640, -44.2000],
  "BOA VISTA": [-19.9640, -44.2000],
  "BOM RETIRO": [-19.9640, -44.2000],
  "CACHOEIRA": [-19.9640, -44.2000],
  "CAMPOS ELISEOS": [-19.9640, -44.2000],
  "CAPELINHA": [-19.9640, -44.2000],
  "CENTRO": [-19.9883, -44.1919],
  "CHACARA": [-19.9640, -44.2000],
  "CHACARA SANTA CECILIA": [-19.9640, -44.2000],
  "CHACARAS ARAPUA": [-19.9640, -44.2000],
  "CHACARAS BOM REPOUSO": [-19.9640, -44.2000],
  "CHACARAS CINCO ILHAS": [-19.9640, -44.2000],
  "CHACARAS NOSSA SENHORA DAS GRACAS": [-19.9640, -44.2000],
  "CHACARAS REUNIDAS GUARACIABA": [-19.9640, -44.2000],
  "CHACARAS SANTA FILOMENA": [-19.9640, -44.2000],
  "CHACARAS SANTO ANTONIO": [-19.9640, -44.2000],
  "CHACARAS SAO JOSE": [-19.9640, -44.2000],
  "CHACARAS SAO SEBASTIAO": [-19.9640, -44.2000],
  "CHACARAS VARZEA DAS FLORES": [-19.9640, -44.2000],
  "CHACARAS VIANOPOLIS": [-19.9431, -44.2718],
  "CIDADE VERDE": [-19.9842, -44.1942],
  "COLONIA SANTA IZABEL": [-20.0420, -44.2142],
  "CONJUNTO HABITACIONAL CELSO ALVES PEDROSA": [-19.9640, -44.2000],
  "CONJUNTO HABITACIONAL DICALINO CABRAL": [-19.9640, -44.2000],
  "CONJUNTO HABITACIONAL JOSE GOMES DE CASTRO": [-19.9640, -44.2000],
  "CONJUNTO HABITACIONAL OLIMPIA BUENO FRANCO": [-19.9640, -44.2000],
  "CONJUNTO HABITACIONAL PAULO CAMILO I": [-19.9640, -44.2000],
  "CONJUNTO HABITACIONAL PAULO CAMILO III": [-19.9640, -44.2000],
  "CONJUNTO RESIDENCIAL ALTO DAS FLORES": [-19.9640, -44.2000],
  "CONJUNTO RESIDENCIAL PARQUE DAS ACACIAS": [-19.9640, -44.2000],
  "CRUZEIRO": [-19.9640, -44.2000],
  "CRUZEIRO DO SUL - 1ª SECAO": [-19.9640, -44.2000],
  "CRUZEIRO DO SUL - 2ª SECAO": [-19.9640, -44.2000],
  "CRUZEIRO DO SUL - 3ª SECAO": [-19.9640, -44.2000],
  "D.I. PAULO CAMILO OLIVEIRA PENA/NORTE": [-19.9640, -44.2000],
  "D.I. PAULO CAMILO OLIVEIRA PENA/SUL": [-19.9640, -44.2000],
  "DECAMAO": [-19.9640, -44.2000],
  "DISTRITO INDUSTRIAL BANDEIRINHA": [-19.9640, -44.2000],
  "DISTRITO INDUSTRIAL BARREIRO DE CIMA NORTE": [-19.9640, -44.2000],
  "DISTRITO INDUSTRIAL BARREIRO DE CIMA SUL": [-19.9640, -44.2000],
  "DISTRITO INDUSTRIAL JOAQUIM CELESTINO TAVARES": [-19.9640, -44.2000],
  "DOM BOSCO": [-19.9640, -44.2000],
  "DONA GRAZIELA": [-19.9640, -44.2000],
  "DONA IZABEL": [-19.9640, -44.2000],
  "DUQUE DE CAXIAS": [-19.9640, -44.2000],
  "ESPIRITO SANTO": [-19.9640, -44.2000],  
  "ESPIRITO SANTO - 2ª GLEBA": [-19.9640, -44.2000],
  "ESTANCIAS DO VALE": [-19.9640, -44.2000],
  "ESTANCIAS FLORES E FLORESTAS": [-19.9640, -44.2000],
  "ESTANCIAS TERRA RICA": [-19.9640, -44.2000],
  "ESTREITO": [-19.9640, -44.2000],
  "FAZENDA DA PORTEIRA": [-19.9640, -44.2000],
  "FAZENDA DO ACUDE": [-19.9640, -44.2000],
  "FAZENDA DO PAIOL VELHO": [-19.9640, -44.2000],
  "FAZENDA POCOES": [-19.9640, -44.2000],
  "FAZENDA SAO JOAO E DESBARRANCADO": [-19.9640, -44.2000],
  "FERNAO DIAS": [-19.9640, -44.2000],
  "FERNAO DIAS - 2A. SECAO": [-19.9640, -44.2000],
  "GRAN ROYALLE BETIM": [-19.9640, -44.2000],
  "GRANJA BANDEIRANTES": [-19.9640, -44.2000],
  "GRANJA LILIAN": [-19.9640, -44.2000],
  "GRANJA NOVE DE JULHO": [-19.9640, -44.2000],
  "GRANJA POUSO ALTO": [-19.9640, -44.2000],
  "GRANJA VERDE": [-19.9640, -44.2000],
  "GRANJAS SANTA HELENA": [-19.9640, -44.2000],
  "GRANJAS SANTO AFONSO": [-19.9640, -44.2000],
  "GUANABARA": [-19.9640, -44.2000],
  "GUARUJA": [-19.9640, -44.2000],
  "GUARUJA MANSOES": [-19.9640, -44.2000],
  "HORTO": [-19.9640, -44.2000],
  "ICAIVERA": [-19.9640, -44.2000],
  "INDEPENDENCIA": [-19.9640, -44.2000],
  "INDUSTRIAL SAO LUIZ": [-19.9640, -44.2000],
  "INDUSTRIAL SAO PEDRO": [-19.9678, -44.1983],
  "INGA": [-19.9640, -44.2000],
  "ITACOLOMI": [-19.9191, -44.1751],
  "ITAIPAVA": [-20.9000, -40.7830],
  "JARDIM BRASILIA": [-19.9640, -44.2000],
  "JARDIM CALIFORNIA": [-19.9640, -44.2000],
  "JARDIM CASA BRANCA": [-19.9640, -44.2000],
  "JARDIM CENTRAL": [-19.9640, -44.2000],
  "JARDIM DA CIDADE": [-19.9640, -44.2000],
  "JARDIM DAS ALTEROSAS": [-19.9640, -44.2000],
  "JARDIM DAS ALTEROSAS - 2A. SECAO": [-19.9640, -44.2000],
  "JARDIM IARA": [-19.9640, -44.2000],
  "JARDIM MONTREAL": [-19.9640, -44.2000],
  "JARDIM NAZARENO": [-19.9640, -44.2000],
  "JARDIM PAULISTA": [-19.9640, -44.2000],
  "JARDIM PERLA": [-19.9640, -44.2000],
  "JARDIM PERLA I": [-19.9640, -44.2000],
  "JARDIM PETROPOLIS": [-19.9640, -44.2000],
  "JARDIM PIEMONTE": [-19.9640, -44.2000],
  "JARDIM PRIMAVERA": [-19.9640, -44.2000],
  "JARDIM RECREIO VIANOPOLIS": [-19.9640, -44.2000],
  "JARDIM SANTA CRUZ": [-19.9640, -44.2000],
  "JARDINS DO VALE": [-19.9640, -44.2000],
  "KUBITSCHEK": [-19.9640, -44.2000],
  "LARANJEIRAS": [-19.9640, -44.2000],
  "LIMAS": [-19.9640, -44.2000],
  "LUCILIO LUIZ DE MENEZES": [-19.9640, -44.2000],
  "MARAJOARA": [-19.9670, -44.1980],
  "MARIMBA": [-19.9670, -44.1980],
  "MIGUEL HADDAD": [-19.9670, -44.1980],
  "MONTE CASTELO/C.H. RIACHO III": [-19.9670, -44.1980],
  "MONTE VERDE": [-19.9670, -44.1980],
  "MORADA DO TREVO": [-19.9670, -44.1980],
  "NITEROI": [-19.9670, -44.1980],
  "NOSSA SENHORA DE FATIMA": [-19.9399615, -44.1722499],
  "NOSSA SENHORA DO CARMO": [-19.9701180, -44.1935795],
  "NOVA BADEN": [-19.9670, -44.1980],
  "NOVO GUARUJA": [-19.9670, -44.1980],
  "NOVO HORIZONTE": [-19.9670, -44.1980],
  "PALMEIRAS": [-19.9670, -44.1980],
  "PALMEIRAS 2ª SECAO": [-19.9670, -44.1980],
  "PAQUETA": [-19.9670, -44.1980],
  "PARQUE BETIM INDUSTRIAL": [-19.9670, -44.1980],
  "PARQUE BRASILEIA": [-19.9670, -44.1980],
  "PARQUE DAS CACHOEIRAS": [-19.9670, -44.1980],
  "PARQUE DAS INDUSTRIAS": [-19.9670, -44.1980],
  "PARQUE DAS VIDEIRAS": [-19.9670, -44.1980],
  "PARQUE DO CEDRO": [-19.9670, -44.1980],
  "PARQUE FERNAO DIAS": [-19.9670, -44.1980],
  "PARQUE INDUSTRIAL DE BETIM": [-19.9670, -44.1980],
  "PARQUE IPIRANGA": [-19.9670, -44.1980],
  "PARQUE JARDIM TEREZOPOLIS": [-19.9670, -44.1980],
  "PETROVALE": [-19.9670, -44.1980],
  "PONTE ALTA": [-19.9670, -44.1980],
  "QUINTAS DAS AROEIRAS": [-19.9670, -44.1980],
  "QUINTAS DOS GODOY": [-19.9670, -44.1980],
  "RECANTO DA LAGOA": [-20.0183, -44.1133],
  "RECANTO VERDE": [-19.9670, -44.1980],
  "RECREIO DOS CAICARAS": [-19.9670, -44.1980],
  "RENASCER": [-19.9457, -44.0959],
  "RESERVA DA MATA": [-19.9670, -44.1980],
  "RESIDENCIAL CALIFORNIA": [-19.9670, -44.1980],
  "RESIDENCIAL LAGOA": [-19.9670, -44.1980],
  "RESIDENCIAL MONTSERRAT": [-19.9670, -44.1980],
  "RESIDENCIAL QUINTAS DA GENTILEZA": [-19.9670, -44.1980],
  "RESIDENCIAL TAQUARIL": [-19.9670, -44.1980],
  "RIACHO DE AREIA": [-19.9670, -44.1980],
  "RIVIERA": [-19.9670, -44.1980],
  "RIVIERA - 2A SEÇÃO": [-19.9670, -44.1980],
  "SAGRADO CORACAO DE JESUS": [-19.9670, -44.1980],
  "SALOME": [-19.9670, -44.1980],
  "SANTA CRUZ": [-19.9670, -44.1980],
  "SANTA FE": [-19.9670, -44.1980],
  "SANTA INES": [-19.9670, -44.1980],
  "SANTA LUCIA": [-19.9670, -44.1980],
  "SANTA RITA": [-19.9670, -44.1980],
  "SANTO AFONSO": [-19.9670, -44.1980],
  "SAO CAETANO": [-19.9670, -44.1980],
  "SAO CRISTOVAO": [-19.9670, -44.1980],
  "SAO JOAO": [-19.9670, -44.1980],
  "SAO JORGE": [-19.9670, -44.1980],  
  "SAO JOSE": [-19.9670, -44.1980],
"SAO MARCOS": [-19.9670, -44.1980],
"SAO MIGUEL": [-19.9670, -44.1980],
"SAO SALVADOR": [-19.9670, -44.1980],
"SAO SEBASTIAO": [-19.9670, -44.1980],
"SENHORA DAS GRACAS": [-19.9670, -44.1980],
"SIDON": [-19.9670, -44.1980],
"SITIO AMORAS": [-19.9670, -44.1980],
"SITIO POCOES": [-19.9670, -44.1980],
"SITIO SAO JOAO": [-19.9670, -44.1980],
"SITIOS BRODOSKI": [-19.9670, -44.1980],
"SITIOS GUARANI": [-19.9670, -44.1980],
"TEIXEIRINHAS": [-19.9670, -44.1980],
"TERRAS ALPHA BETIM": [-19.9670, -44.1980],
"TIRADENTES": [-19.9670, -44.1980],
"VALE VERDE": [-19.9670, -44.1980],
"VALLE DA SERRA": [-19.9670, -44.1980],
"VARGEM ALEGRE": [-19.9670, -44.1980],
"VARGEM DAS FLORES": [-20.0037, -44.1675],
"VIANOPOLIS": [-19.9670, -44.1980],
"VILA ALPINA": [-19.9670, -44.1980],
"VILA AMARAL": [-19.9670, -44.1980],
"VILA BANDEIRANTE": [-19.9670, -44.1980],
"VILA BOA ESPERANCA": [-19.9670, -44.1980],
"VILA CASTANHEIRA": [-19.9670, -44.1980],
"VILA CRISTINA": [-19.9670, -44.1980],
"VILA CRISTINA - 3A. SECAO": [-19.9670, -44.1980],
"VILA DAS FLORES": [-19.9670, -44.1980],
"VILA ESPERANCA": [-19.9670, -44.1980],
"VILA FILADELFIA": [-19.9670, -44.1980],
"VILA INCONFIDENCIA": [-19.9670, -44.1980],
"VILA MONTE LIBANO": [-19.9670, -44.1980],
"VILA NICOLAU ALVES DE MELO": [-19.9670, -44.1980],
"VILA NOSSA SENHORA DAS GRACAS": [-19.9670, -44.1980],
"VILA NOVA MONTESE": [-19.9670, -44.1980],
"VILA PADRE EUSTAQUIO": [-19.9670, -44.1980],
"VILA PRESIDENTE KENNEDY": [-19.9249, -44.0377],
"VILA RECREIO": [-19.9670, -44.1980],
"VILA SANTA MARIA": [-19.9670, -44.1980],
"VILA SANTA TEREZINHA": [-19.9670, -44.1980],
"VILA TANGARA": [-19.9670, -44.1980],
"VILA TRIANGULO": [-19.9670, -44.1980],
"VILA UNIVERSAL": [-19.9670, -44.1980],
"VILA VERDE": [-19.9670, -44.1980],
"VISTA ALEGRE": [-19.9670, -44.1980],
"VISTA BELA": [-19.9670, -44.1980],
"VILA IMBIRUÇU": [-19.9670, -44.1980],
    };


    const feedbacks = JSON.parse(localStorage.getItem('feedbacks')) || [];


    const notasPorBairro = {};

    feedbacks.forEach(feedback => {
      const bairro = feedback.bairro;
      const nota = Number(feedback.nota);

      if (!notasPorBairro[bairro]) {
        notasPorBairro[bairro] = [];
      }

      notasPorBairro[bairro].push(nota);
    });


    Object.keys(notasPorBairro).forEach(bairro => {
      const notas = notasPorBairro[bairro];
      const media = (notas.reduce((a, b) => a + b, 0) / notas.length).toFixed(1);

      const coords = coordenadasBairros[bairro];
      if (coords) {
        L.marker(coords).addTo(mapa)
          .bindPopup(`<strong>${bairro}</strong><br>Nota média: <b>${media}</b>/5`);
      }
    });
  });
</script>

</body>